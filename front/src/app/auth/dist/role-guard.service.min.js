"use strict";var __decorate=this&&this.__decorate||function(e,o,t,r){var a,l=arguments.length,n=l<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,o,t,r);else for(var c=e.length-1;0<=c;c--)(a=e[c])&&(n=(l<3?a(n):3<l?a(o,t,n):a(o,t))||n);return 3<l&&n&&Object.defineProperty(o,t,n),n};exports.__esModule=!0;var core_1=require("@angular/core"),jwt_decode_1=require("jwt-decode"),RoleGuardService=function(){function e(e,o){this.auth=e,this.router=o}return e.prototype.canActivate=function(e){var o=e.data.role;e.data.role2&&(console.log(e.data.role2),this.role2=e.data.role2);var t=localStorage.getItem("accessToken");return null!=t&&(this.tokenPayload=jwt_decode_1.default(t),console.log(this.tokenPayload),console.log(this.tokenPayload.role),console.log(o),this.role2?this.tokenPayload.role==o||this.tokenPayload.role==this.role2||(this.router.navigate(["login"]),!1):this.tokenPayload.role==o||(this.router.navigate(["login"]),!1))},e=__decorate([core_1.Injectable({providedIn:"root"})],e)}();exports.RoleGuardService=RoleGuardService;
//# sourceMappingURL=role-guard.service.min.js.map
