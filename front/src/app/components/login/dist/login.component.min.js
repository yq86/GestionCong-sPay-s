"use strict";var __decorate=this&&this.__decorate||function(e,o,r,t){var n,s=arguments.length,i=s<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,r):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,o,r,t);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(i=(s<3?n(i):3<s?n(o,r,i):n(o,r))||i);return 3<s&&i&&Object.defineProperty(o,r,i),i};exports.__esModule=!0;var core_1=require("@angular/core"),forms_1=require("@angular/forms"),LoginComponent=function(){function e(e,o){this.userService=e,this.router=o}return e.prototype.ngOnInit=function(){this.initForm()},e.prototype.initForm=function(){this.form=new forms_1.FormGroup({username:new forms_1.FormControl(""),password:new forms_1.FormControl("")})},e.prototype.submit=function(){var o=this;this.form.invalid||(this.userLogin={userName:this.form.value.username,password:this.form.value.password},this.userService.login(this.userLogin).subscribe(function(e){e?(console.log(e),window.localStorage.setItem("name",o.form.value.username),window.localStorage.setItem("accessToken",e.accesstoken),3==e.user.role?o.router.navigate(["employee-demandes"]):2==e.user.role?o.router.navigate(["manager"]):1==e.user.role&&o.router.navigate(["admin"])):(o.error="username or password invalid",o.initForm(),console.log(localStorage.getItem("accessToken")))},function(e){alert(e.message)}))},e.prototype.initError=function(){this.error=null},e=__decorate([core_1.Component({selector:"app-login",templateUrl:"./login.component.html",styleUrls:["./login.component.css"]})],e)}();exports.LoginComponent=LoginComponent;
//# sourceMappingURL=login.component.min.js.map
